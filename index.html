<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>東方スペルカードクイズ (ヒント機能付き)</title>
    <style>
        /* CSSスタイル */
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #2c3e50;
            font-family: 'BIZ UDPゴシック', sans-serif;
            color: #ecf0f1;
            text-align: center;
            /* タイマーを左上に固定するためにbodyも調整 */
            position: relative; /* 子要素のabsolute配置の基準 */
        }

        #display {
            font-size: 4.5em;
            margin: 0 20px 50px 20px;
            min-height: 3.6em;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .character-name {
            font-size: 0.8em;
            color: #f1c40f;
            margin-top: 15px;
        }

        /* ヒント用のスタイル */
        .hint-spell {
            font-size: 0.7em;
            color: #bdc3c7; /* 少し薄い色に */
            margin-top: 20px;
        }

        .controls {
            display: flex;
            gap: 20px;
            flex-wrap: wrap; /* ボタンが多すぎて横幅が足りない場合に折り返す */
            justify-content: center;
        }

        button {
            font-size: 1.5em;
            padding: 15px 30px;
            cursor: pointer;
            border: none;
            border-radius: 8px;
            background-color: #3498db;
            color: white;
            transition: background-color 0.3s;
        }

        /* ヒントボタン用のスタイル */
        #hintBtn {
            background-color: #2ecc71; /* ボタンの色を変える */
        }

            #hintBtn:hover {
                background-color: #27ae60;
            }

        button:hover {
            background-color: #2980b9;
        }

        button:disabled {
            background-color: #7f8c8d;
            cursor: not-allowed;
        }

        #counter {
            font-size: 1.2em;
            margin-top: 20px;
        }

        /* ★★ここから追加するCSS★★ */

        /* 円形タイマーのコンテナ */
        #timer-container {
            position: absolute; /* body基準で絶対配置 */
            top: 20px; /* 左上から20pxの余白 */
            left: 20px;
            width: 100px; /* タイマーのサイズ */
            height: 100px;
            border-radius: 50%; /* 円形にする */
            background-color: #34495e; /* 円の背景色 */
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden; /* プログレスバーがはみ出さないように */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            z-index: 100; /* 他の要素より手前に表示 */
            opacity: 0; /* 最初は非表示 */
            transition: opacity 0.3s; /* フェードイン/アウト */
        }

            #timer-container.active {
                opacity: 1; /* アクティブ時に表示 */
            }

        /* 円形タイマーのプログレスバー */
        /* 円形タイマーのプログレスバー (conic-gradientを修正) */
        #timer-pie {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            /* --angleをJavaScriptで設定 (0degから360deg) */
            /* --timer-colorもJavaScriptで設定 */
            background: conic-gradient( var(--timer-color, #2ecc71) var(--angle, 360deg), /* 開始色から現在の角度まで */
            #4a657c var(--angle, 360deg) /* 現在の角度から360度まで */
            );
            transform: rotate(-90deg); /* 0度を真上にするため */
            transition: background 0.1s linear; /* 色の変化を滑らかに、毎秒変化するので短く */
        }
        /* 残り時間表示テキスト */
        #timer-text {
            position: relative; /* プログレスバーより手前に表示 */
            font-size: 2.5em;
            font-weight: bold;
            color: #ecf0f1;
            z-index: 10;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.7);
        }

        /* 設定パネル全体のスタイル */
        #settings-panel {
            margin-top: 30px;
            padding: 20px;
            border: 1px solid #7f8c8d;
            border-radius: 10px;
            background-color: #34495e;
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: flex-start; /* 左寄せ */
            width: min(90%, 400px); /* 幅を調整 */
        }

        /* 各設定グループのスタイル */
        .setting-group {
            display: flex;
            flex-direction: column; /* 縦に並べる */
            gap: 5px;
            width: 100%;
        }

        .setting-group-inline { /* チェックボックスとラベルを横並びにするグループ */
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* スライダーと値の表示 */
        .slider-container {
            display: flex;
            align-items: center;
            gap: 10px;
            width: 100%;
        }

            .slider-container label {
                white-space: nowrap; /* テキストが改行されないように */
                min-width: 60px; /* ラベルの最小幅 */
            }

            .slider-container input[type="range"] {
                flex-grow: 1; /* スライダーが利用可能なスペースを埋める */
                width: auto; /* flex-grow が効くように */
            }

            .slider-container .value {
                min-width: 30px; /* 値表示の最小幅 */
                text-align: right;
            }

        /* チェックボックスのスタイル調整 */
        .setting-group-inline input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            margin-right: 5px;
            accent-color: #2ecc71; /* チェックされた色 */
        }
    </style>
</head>

<body>
    <div id="timer-container">
        <div class="timer-pie" id="timer-pie"></div>
        <span id="timer-text"></span>
    </div>

    <div id="display">東方スペルカードかるた</div>
    <div class="controls">
        <button id="hintBtn" onclick="showAnotherSpell()" style="display: none;">別のスペカ</button>
        <button id="mainBtn" onclick="handleNextStep()">答えを表示</button>
        <button id="resetBtn" onclick="resetGame()">最初からやり直す</button>
    </div>
    <div id="counter">総枚数: <span id="totalCount"></span> | 残り枚数: <span id="remainingCount"></span></div>

    <div id="settings-panel">
        <h3>ゲーム設定</h3>

        <div class="setting-group">
            <div class="setting-group-inline">
                <input type="checkbox" id="enableTimer" checked>
                <label for="enableTimer">制限時間を有効にする</label>
            </div>
            <div class="slider-container">
                <label for="quizTimeSlider">制限時間:</label>
                <input type="range" id="quizTimeSlider" min="5" max="60" step="1" value="15">
                <span id="quizTimeValue" class="value">15秒</span>
            </div>
            <div class="slider-container">
                <label for="hintTimeSlider">ヒント表示:</label>
                <input type="range" id="hintTimeSlider" min="1" max="55" step="1" value="5">
                <span id="hintTimeValue" class="value">残り5秒</span>
            </div>
        </div>

        <div class="setting-group">
            <div class="setting-group-inline">
                <input type="checkbox" id="enableHintBtn" checked>
                <label for="enableHintBtn">ヒントボタンを有効にする</label>
            </div>
        </div>

        <div class="setting-group">
            <div class="setting-group-inline">
                <input type="checkbox" id="enableNextTimer">
                <label for="enableNextTimer">答え表示後、自動で次へ</label>
            </div>
            <div class="slider-container">
                <label for="nextDelaySlider">待機時間:</label>
                <input type="range" id="nextDelaySlider" min="1" max="10" step="1" value="3">
                <span id="nextDelayValue" class="value">3秒</span>
            </div>
        </div>
    </div>

    <script>
        // データ入力部分は変更ありません
        const CHARACTER_DATA = [
            {
                chara: ["博麗 霊夢"],
                spells: `
霊符「夢想封印」
                         霊符「夢想封印　集」
                         霊符「夢想封印　散」
                         霊符「夢想封印　円」
                         回霊「夢想封印　侘」
                         散霊「夢想封印　寂」
                         神霊「夢想封印　瞬」
                         霊符「陰陽印」
                         霊符「夢想妙珠」
                         霊符「博麗幻影」
                         夢符「退魔符乱舞」
                         夢符「夢想亜空穴」
                         夢符「封魔陣」
                         夢符「二重結界」
                         夢境「二重大結界」
                         夢戦「幻想之月」
                         夢符「幻想一重」
                         境界「二重弾幕結界」
                         大結界「博麗弾幕結界」
                         結界「拡散結界」
                         結界「パパラッチ撃退結界」
                         結界「至る所の青山」
                         力符「陰陽玉将」
                         珠符「明珠暗投」
                         宝符「躍る陰陽玉」
                         宝符「陰陽宝玉」
                         宝具「陰陽鬼神玉」
                         宝具「陰陽飛鳥井」
                         妖器「無慈悲なお祓い棒」
                         神籤「反則結界」
                         光霊「神霊宝珠」
                         神技「八方鬼縛陣」
                         神技「八方龍殺陣」
                         神技「天覇風神脚」
                         祈願「厄除け祈願」
                         御守「妖怪足止めお守り」
                         お札「新聞拡張団調伏」
                         御札「神社繁栄祈願札」
                         御札「夢幻の高速祈願札」
                         御札「対妖怪方位除」
                         符の壱「夢想妙珠連」
                         符の弐「陰陽散華」
                         符の参「魔浄閃結」
                         無題「空を飛ぶ不思議な巫女」
                         「パスウェイジョンニードル」
                         「境界の内側に潜む霊と不思議な巫女」
                         「最も凶悪なびっくり巫女玉」
                         「天国にいちばん近いお賽銭」
                         「だんまく長者」
                         「反則結界」
                         「夢想天生」
                                            `
            },
            {
                chara: ["霧雨 魔理沙"],
                spells: `
魔符「スターダスト」
                         魔符「スターダストレヴァリエ」
                         魔符「イリュージョンスター」
                         魔符「ミルキーウェイ」
                         魔符「マジカルＲ３６０」
                         魔符「アルティメットショートウェーブ」
                         魔符「ブレイズアウェイ」
                         魔空「アステロイドベルト」
                         魔弾「テストスレイブ」
                         魔廃「ディープエコロジカルボム」
                         恋符「ノンディレクショナルレーザー」
                         恋風「スターライトタイフーン」
                         恋符「マスタースパーク」
                         恋符「マスタースパークのような懐中電灯」
                         恋符「ワイドマスター」
                         恋符「マシンガンスパーク」
                         恋心「ダブルスパーク」
                         魔砲「ファイナルスパーク」
                         魔砲「ファイナルマスタースパーク」
                         邪恋「実りやすいマスタースパーク」
                         星符「ポラリスユニーク」
                         星符「グラビティビート」
                         星符「エスケープベロシティ」
                         星符「メテオニックシャワー」
                         星符「エキセントリックアステロイド」
                         星符「オールトクラウド」
                         星符「ドラゴンメテオ」
                         星符「ミリ秒パルサー」
                         星符「サテライトイリュージョン」
                         星符「オカルテイション」
                         光符「ミステリアスビーム」
                         光符「ルミネスストライク」
                         光符「アースライトレイ」
                         光撃「シュート・ザ・リトルムーン」
                         光撃「シュート・ザ・ムーン」
                         妖器「ダークスパーク」
                         儀符「オーレリーズサン」
                         天儀「オーレリーズソーラーシステム」
                         天儀「オーレリーズユニバース」
                         流光「シューティングエコー」
                         流星「スーパーペルセイド」
                         彗星「ブレイジングスター」
                         黒魔「イベントホライズン」
                         閉符「ビッグクランチ」
                         魔開「オープンユニバース」
                         魔十字「グランドクロス」
                         「ブレイジングスターのような鬼ごっこ」
                         「妖精尽滅光」
                         「サングレイザー」
                                        `
            },
            {
                chara: ["ルーミア"],
                spells: `
                         月符「ムーンライトレイ」
                         夜符「ナイトバード」
                         夜符「ミッドナイトバード」
                         闇符「ディマーケイション」
                         闇符「ダークサイドオブザムーン」
                                       `
            },
            {
                chara: ["チルノ"],
                spells: `
                                        冷符「瞬間冷凍ビーム」
                         冷体「スーパーアイスキック」
                         霜符「フロストコラムス」
                         雪符「ダイアモンドブリザード」
                         雹符「ヘイルストーム」
                         氷符「アイシクルフォール」
                         氷符「アイシクルマシンガン」
                         氷符「フェアリースピン」
                         氷符「ソードフリーザー」
                         氷符「アルティメットブリザード」
                         氷符「パーフェクトグレーシェリスト」
                         氷塊「コールドスプリンクラー」
                         吹氷「アイストルネード」
                         氷塊「グレートクラッシャー」
                         氷王「フロストキング」
                         凍符「フリーズアクトレス」
                         凍符「コールドディヴィニティー」
                         凍符「フリーズアトモスフェア」
                         凍符「マイナスＫ」
                         凍符「パーフェクトフリーズ」
                                        `
            },
            {
                chara: ["紅美鈴"],
                spells: `
                                    気符「星脈弾」
                     星気「星脈地転弾」
                     気符「猛虎内剄」
                     気符「地龍天龍脚」
                     華符「セラギネラ９」
                     華符「芳華絢爛」
                     華符「彩光蓮華掌」
                     華符「破山砲」
                     三華「崩山彩極砲」
                     撃符「大鵬拳」
                     熾撃「大鵬墜撃拳」
                     彩符「彩雨」
                     彩符「彩光風鈴」
                     彩符「彩光乱舞」
                     彩符「極彩沛雨」
                     彩符「極彩颱風」
                     彩翔「飛花落葉」
                     彩華「虹色太極拳」
                     虹符「彩虹の風鈴」
                     虹符「烈虹真拳」
                     幻符「華想夢葛」
                     光符「華光玉」
                     極光「華厳明星」
                                            `
            },
            {
                chara: ["パチュリー・ノーレッジ"],
                spells: `
                                    火符「アキバサマー」
                     火符「アグニシャイン」
                     火符「アグニレイディアンス」
                     火符「リングオブアグニ」
                     火水符「フロギスティックピラー」
                     火金符「セントエルモピラー」
                     火土符「ラーヴァクロムレク」
                     水符「ベリーインレイク」
                     水符「プリンセスウンディネ」
                     水符「ジェリーフィッシュプリンセス」
                     水火符「フロギスティックレイン」
                     水木符「ウォーターエルフ」
                     木符「シルフィホルン」
                     木符「グリーンストーム」
                     木火符「フォレストブレイズ」
                     金符「メタルファティーグ」
                     金符「シルバードラゴン」
                     金水符「マーキュリポイズン」
                     金木符「エレメンタルハーベスター」
                     金土符「ジンジャガスト」
                     土符「レイジィトリリトン」
                     土符「トリリトンシェイク」
                     土水符「ノエキアンデリュージュ」
                     土金符「エメラルドメガリス」
                     土金符「エメラルドメガロポリス」
                     符の壱「セントエルモエクスプロージョン」
                     符の弐「デリュージュフォーティディ」
                     月符「サイレントセレナ」
                     月木符「サテライトヒマワリ」
                     月金符「サンシャインリフレクター」
                     日符「ロイヤルフレア」
                     日水符「ハイドロジェナスプロミネンス」
                     日木符「フォトシンセシス」
                     日月符「ロイヤルダイアモンドリング」
                     火水木金土符「賢者の石」
                                            `
            },
            {
                chara: ["十六夜咲夜"],
                spells: `
                                メイド秘技「操りドール」
                 メイド秘技「殺人ドール」
                 符の壱「連続殺人ドール」
                 符の弐「チェックメイド」
                 銀符「パーフェクトメイド」
                 銀符「シルバーバウンド」
                 傷符「インスクライブレッドソウル」
                 傷魂「ソウルスカルプチュア」
                 速符「ルミネスリコシェ」
                 光速「Ｃ．リコシェ」
                 奇術「ミスディレクション」
                 奇術「幻惑ミスディレクション」
                 奇術「エターナルミーク」
                 手品「クロースアップ殺人鬼」
                 妖器「銀色のアナザーディメンジョン」
                 幻符「インディスクリミネイト」
                 幻術「マイナイフリカージョン」
                 幻在「クロックコープス」
                 幻象「ルナクロック」
                 幻幽「ジャック・ザ・ルドビレ」
                 幻葬「夜霧の幻影殺人鬼」
                 幻世「ザ・ワールド」
                 時符「シルバーアキュート３６０」
                 時符「ミステリアスジャック」
                 時符「トンネルエフェクト」
                 時符「イマジナリバーチカルタイム」
                 時符「咲夜特製ストップウォッチ」
                 時計「ルナダイアル」
                 時符「プライベートヴィジョン」
                 時符「プライベートスクウェア」
                 時符「パーフェクトスクウェア」
                 時符「デュアルバニッシュ」
                 時符「タイムストッパー咲夜」
                 時符「チェンジリングマジック」
                 空虚「インフレーションスクウェア」
                 「デフレーションワールド」
                 「咲夜の世界」
                                            `
            },
            {
                chara: ["レミリア・スカーレット"],
                spells: `
                                紅符「スカーレットシュート」
                 紅符「スカーレットマイスタ」
                 紅符「ブラッディマジックスクウェア」
                 紅符「不夜城レッド」
                 紅魔「スカーレットデビル」
                 悪魔「レミリアストレッチ」
                 蝙蝠「ヴァンパイアスウィープ」
                 紅蝙蝠「ヴァンピリッシュナイト」
                 夜符「ボンバードナイト」
                 夜符「クイーン・オブ・ミッドナイト」
                 夜符「デーモンキングクレイドル」
                 夜王「ドラキュラクレイドル」
                 必殺「ハートブレイク」
                 符の壱「バッドレディスクランブル」
                 符の弐「マイハートブレイク」
                 符の参「ヘルカタストロフィ」
                 冥符「紅色の冥界」
                 獄符「千本の針の山」
                 呪詛「ブラド・ツェペシュの呪い」
                 天罰「スターオブダビデ」
                 神罰「幼きデーモンロード」
                 神術「吸血鬼幻想」
                 神槍「スピア・ザ・グングニル」
                 神鬼「レミリアストーカー」
                 魔符「全世界ナイトメア」
                 運命「ミゼラブルフェイト」
                 「きゅうけつ鬼ごっこ」
                 「レッドマジック」
                 「紅色の幻想郷」
                 「ミレニアムの吸血鬼」
                 「フィットフルナイトメア」
                 「スカーレットディスティニー」
                                `
            },
            {
                chara: ["フランドール・スカーレット"],
                spells: `
                                禁忌「クランベリートラップ」
                 禁忌「レーヴァテイン」
                 禁忌「フォーオブアカインド」
                 禁忌「カゴメカゴメ」
                 禁忌「恋の迷路」
                 禁忌「フォービドゥンフルーツ」
                 禁忌「禁じられた遊び」
                 禁弾「スターボウブレイク」
                 禁弾「カタディオプトリック」
                 禁弾「過去を刻む時計」
                 秘弾「そして誰もいなくなるか？」
                 ＱＥＤ「４９５年の波紋」
                    `
            },
            {
                chara: ["レティ・ホワイトロック"],
                spells: `
                                寒符「コールドスナップ」
                 寒符「リンガリングコールド」
                 冬符「フラワーウィザラウェイ」
                 冬符「ノーザンウイナー」
                 白符「アンデュレイションレイ」
                 怪符「テーブルターニング」
                    `
            },
            {
                chara: ["橙"],
                spells: `
                                化猫「橙」
                 星符「飛び重ね鱗」
                 方符「奇門遁甲」
                 式符「飛翔晴明」
                 翔符「飛翔韋駄天」
                 陰陽「道満晴明」
                 陰陽「晴明大紋」
                 童符「護法天童乱舞」
                 天符「天仙鳴動」
                 仙符「鳳凰卵」
                 仙符「鳳凰展翅」
                 仙符「屍解永遠」
                 鬼符「鬼門金神」
                 鬼符「青鬼赤鬼」
                 鬼神「飛翔毘沙門天」
                 鬼神「鳴動持国天」
`
            },
            {
                chara: ["アリス・マーガトロイド"],
                spells: `
                                注力「トリップワイヤー」
                 魔光「デヴィリーライトレイ」
                 魔符「アーティフルサクリファイス」
                 魔操「リターンイナニメトネス」
                 符の壱「アーティフルチャンター」
                 符の弐「ドールクルセイダー」
                 赤符「ドールミラセティ」
                 偵符「シーカードールズ」
                 剣符「ソルジャーオブクロス」
                 槍符「キューティー大千槍」
                 足軽「スーサイドスクワッド」
                 犠牲「スーサイドパクト」
                 呪符「ストロードールカミカゼ」
                 戦符「リトルレギオン」
                 戦操「ドールズウォー」
                 騎士「ドールオブラウンドテーブル」
                 操符「マリオネットパラル」
                 操符「マニピュレイトパペット」
                 操符「ドールズインシー」
                 操符「乙女文楽」
                 人形「未来文楽」
                 蒼符「博愛の仏蘭西人形」
                 蒼符「博愛のオルレアン人形」
                 紅符「和蘭人形」
                 紅符「紅毛の和蘭人形」
                 白符「白亜の露西亜人形」
                 闇符「霧の倫敦人形」
                 廻符「輪廻の西蔵人形」
                 雅符「春の京人形」
                 咒詛「魔彩光の上海人形」
                 咒詛「首吊り蓬莱人形」
                 試験中「レベルティターニア」
                 試験中「ゴリアテ人形」
                 人形「魂のないフォークダンス」
                 人形「セミオートマトン」
                 人形「レミングスパレード」
                 「グランギニョル座の怪人」
`
            },
            {
                chara: ["ルナサ・プリズムリバー"],
                spells: `
                                騒符「ノイズメランコリー」
                 騒符「ルナサ・ソロライブ」
                 弦奏「グァルネリ・デル・ジェス」
                 神弦「ストラディヴァリウス」
                 偽弦「スードストラディヴァリウス」
`
            },
            {
                chara: ["メルラン・プリズムリバー"],
                spells: `
                                騒符「ソウルゴーハッピー」
                 騒符「メルラン・ハッピーライブ」
                 管霊「ヒノファンタズム」
                 冥管「ゴーストクリフォード」
`
            },
            {
                chara: ["リリカ・プリズムリバー"],
                spells: `
                                騒符「ソウルノイズフロー」
                 騒符「リリカ・ソロライブ」
                 冥鍵「ファツィオーリ冥奏」
                 鍵霊「ベーゼンドルファー神奏」
`
            },
            {
                chara: ["ルナサ・プリズムリバー", "メルラン・プリズムリバー", "リリカ・プリズムリバー"],
                spells: `
                                騒符「ファントムディニング」
                                騒符「ライブポルターガイスト」
                                合葬「プリズムコンチェルト」
                                騒葬「スティジャンリバーサイド」
                                大合葬「霊車コンチェルトグロッソ」
                                大合葬「霊車コンチェルトグロッソ改」
                                大合葬「霊車コンチェルトグロッソ怪」
`
            },
            {
                chara: ["魂魄妖夢"],
                spells: `
                                迷符「纏縛剣」
                 迷符「半身大悟」
                 人符「現世斬」
                 人鬼「未来永劫斬」
                 魂符「幽明の苦輪」
                 魂魄「幽明求聞持聡明の法」
                 光符「冥府光芒一閃」
                 符の壱「二重の苦輪」
                 符の弐「心眼迷想斬」
                 剣伎「桜花閃々」
                 桜花剣「閃々散華」
                 断命剣「冥想斬」
                 断迷剣「迷津慈航斬」
                 断霊剣「成仏得脱斬」
                 断想剣「草木成仏斬」
                 幽鬼剣「妖童餓鬼の断食」
                 餓鬼剣「餓鬼道草紙」
                 餓王剣「餓鬼十王の報い」
                 獄界剣「二百由旬の一閃」
                 獄炎剣「業風閃影陣」
                 獄神剣「業風神閃斬」
                 畜趣剣「無為無策の冥罰」
                 修羅剣「現世妄執」
                 妄執剣「修羅の血」
                 六道剣「一念無量劫」
                 四生剣「衆生無性の響き」
                 転生剣「円心流転斬」
                 人智剣「天女返し」
                 人界剣「悟入幻想」
                 人世剣「大悟顕晦」
                 人神剣「俗諦常住」
                 天上剣「天人の五衰」
                 天界剣「七魄忌諱」
                 天神剣「三魂七魄」
                 天星剣「涅槃寂静の如し」
                 空観剣「六根清浄斬」
                 彼岸剣「地獄極楽滅多斬り」
                 瞑斬「楼観から弾をも断つ心の眼」
                 奥義「西行春風斬」
                 「待宵反射衛星斬」
`
            },
            {
                chara: ["西行寺幽々子"],
                spells: `
                                符牒「死蝶の舞」
                 符牒「死蝶の舞 -桜花-」
                 幽符「冥界ミステリースポット」
                 幽蝶「ゴーストスポット」
                 幽蝶「ゴーストスポット -桜花-」
                 幽雅「死出の誘蛾灯」
                 死符「ギャストリドリーム」
                 死符「酔人の生、死の夢幻」
                 死蝶「華胥の永眠」
                 霊蝶「蝶の羽風生に暫く」
                 蝶符「鳳蝶紋の死槍」
                 蝶符「花蝶風月」
                 霊符「无寿の夢」
                 寿命「无寿国への約束手形」
                 冥符「黄泉平坂行路」
                 冥符「常夜桜」
                 符の壱「幽夢の胡蝶」
                 符の弐「白玉楼の垂れ彼岸」
                 符の参「果てしなく昔の死地」
                 再迷「幻想郷の黄泉還り」
                 亡郷「亡我郷 -さまよえる魂-」
                 亡郷「亡我郷 -宿罪-」
                 亡郷「亡我郷 -道無き道-」
                 亡郷「亡我郷 -自尽-」
                 亡舞「生者必滅の理 -眩惑-」
                 亡舞「生者必滅の理 -死蝶-」
                 亡舞「生者必滅の理 -毒蛾-」
                 亡舞「生者必滅の理 -魔境-」
                 華霊「ゴーストバタフライ」
                 華霊「スワローテイルバタフライ」
                 華霊「ディープルーティドバタフライ」
                 華霊「バタフライディルージョン」
                 幽曲「リポジトリ・オブ・ヒロカワ -偽霊-」
                 幽曲「リポジトリ・オブ・ヒロカワ -亡霊-」
                 幽曲「リポジトリ・オブ・ヒロカワ -幻霊-」
                 幽曲「リポジトリ・オブ・ヒロカワ -神霊-」
                 桜符「完全なる墨染の桜 -封印-」
                 桜符「完全なる墨染の桜 -亡我-」
                 桜符「完全なる墨染の桜 -春眠-」
                 桜符「完全なる墨染の桜 -開花-」
                 桜符「センスオブチェリーブロッサム」
                 桜符「西行桜吹雪」
                 桜符「桜吹雪地獄」
                 桜花「未練未酌宴」
                 桜花「桜吹雪花小町」
                 宴会「死して全て大団円」
                 「反魂蝶」
                 「反魂蝶 -一分咲-」
                 「反魂蝶 -参分咲-」
                 「反魂蝶 -伍分咲-」
                 「反魂蝶 -八分咲-」
                 「紫（むらさき）の彼岸は遅れて輝く」
                 「死蝶浮月」
                 「西行寺無余涅槃」
`
            },
            {
                chara: ["八雲藍"],
                spells: `
                                式神「橙」
                 式神「仙狐思念」
                 式神「前鬼後鬼の守護」
                 式神「十二神将の宴」
                 式神「憑依荼吉尼天」
                 式輝「狐狸妖怪レーザー」
                 式輝「四面楚歌チャーミング」
                 式輝「プリンセス天狐 -Illusion-」
                 式弾「アルティメットブディスト」
                 式弾「ユーニラタルコンタクト」
                 密符「御大師様の秘鍵」
                 行符「八千万枚護摩」
                 超人「飛翔役小角」
                 幻神「飯綱権現降臨」
                 「狐狗狸さんの契約」
`
            },
            {
                chara: ["八雲紫"],
                spells: `
                                式神「八雲藍」
                 罔両「ストレートとカーブの夢郷」
                 罔両「八雲紫の神隠し」
                 罔両「禅寺に棲む妖蝶」
                 魍魎「二重黒死蝶」
                 魔眼「ラプラスの魔」
                 空餌「中毒性のあるエサ」
                 空餌「狂躁高速飛行物体」
                 外力「無限の超高速飛行体」
                 幻巣「飛光虫ネスト」
                 幻想「第一種永久機関」
                 光弾「ドップラーエフェクト」
                 廃線「ぶらり廃駅下車の旅」
                 捌器「全てを二つに別ける物」
                 符の壱「四重結界」
                 符の弐「八雲卍傘」
                 境符「色と空の境界」
                 境符「波と粒の境界」
                 境符「二次元と三次元の境界」
                 境界「永夜四重結界」
                 結界「魅力的な四重結界」
                 結界「客観結界」
                 結界「夢と現の呪」
                 結界「動と静の均衡」
                 結界「光と闇の網目」
                 結界「生と死の境界」
                 紫奥義「弾幕結界」
                 「人間と妖怪の境界」
                 「不可能弾幕結界」
                 「運鈍根の捕物帖」
                 「深弾幕結界　-夢幻泡影-」
                 「八雲の巣」
`
            },
            {
                chara: ["伊吹萃香"],
                spells: `
                                吐息「小鬼の深呼吸」
                 地獄「煉獄吐息」
                 符の壱「投擲の天岩戸」
                 符の弐「坤軸の大鬼」
                 符の参「追儺返しブラックホール」
                 萃符「戸隠山投げ」
                 萃鬼「天手力男投げ」
                 酔神「鬼縛りの術」
                 酔夢「施餓鬼縛りの術」
                 霧符「雲集霧散」
                 疎符「六里霧中」
                 鬼気「濛々迷霧」
                 火弾「地霊活性弾」
                 鬼火「超高密度燐禍術」
                 鬼符「豆粒大の針地獄」
                 鬼群「インプスウォーム」
                 鬼群「百鬼禿童」
                 鬼符「大江山悉皆殺し」
                 鬼符「ミッシングパワー」
                 鬼神「ミッシングパープルパワー」
                 四天王奥義「三歩壊廃」
                 「百万同一鬼」
                 「百万鬼夜行」
`
            },
            {
                chara: ["リグル・ナイトバグ"],
                spells: `
                                蛍符「地上の流星」
                 蛍符「地上の彗星」
                 蛍符「地上の恒星」
                 灯符「ファイヤフライフェノメノン」
                 蠢符「リトルバグ」
                 蠢符「リトルバグストーム」
                 蠢符「ナイトバグストーム」
                 蠢符「ナイトバグトルネード」
                 隠蟲「永夜蟄居」
                 蝶符「バタフライストーム」
                 「季節外れのバタフライストーム」
`
            },
            {
                chara: ["ミスティア・ローレライ"],
                spells: `
                                鳥符「ヒューマンケージ」
                 鳥符「ヒューマンケージダブル」
                 鳥符「ミステリアスソング」
                 声符「梟の夜鳴声」
                 声符「木菟咆哮」
                 蛾符「天蛾の蠱道」
                 毒符「毒蛾の鱗粉」
                 猛毒「毒蛾の暗闇演舞」
                 鷹符「イルスタードダイブ」
                 夜盲「夜雀の歌」
                 夜雀「真夜中のコーラスマスター」
                 「ブラインドナイトバード」
`
            },
            {
                chara: ["上白沢慧音"],
                spells: `
                                 旧史「旧秘境史　-オールドヒストリー-」
                 転世「一条戻り橋」
                 新史「新幻想史　-ネクストヒストリー-」
                 産霊「ファーストピラミッド」
                 光符「アマテラス」
                 国符「三種の神器　剣」
                 国符「三種の神器　玉」
                 国符「三種の神器　鏡」
                 国体「三種の神器　郷」
                 倭符「邪馬台の国」
                 始符「エフェメラリティ137」
                 野符「武烈クライシス」
                 野符「将門クライシス」
                 野符「義満クライシス」
                 野符「GHQクライシス」
                 葵符「水戸の光圀」
                 大火「江戸のフラワー」
                 包符「昭和の雨」
                 終符「幻想天皇」
                 虚史「幻想郷伝説」
                 未来「高天原」
                 「日出づる国の天子」
                 「無何有浄化」
                 「２０ＸＸ年　死後の旅」
`
            },
            {
                chara: ["因幡てゐ"],
                spells: `
                                兎符「開運大紋」
                 兎符「因幡の素兎」
                 借符「大穴牟遅様の薬」
                 脱兎「フラスターエスケープ」
                 「エンシェントデューパー」
`
            },
            {
                chara: ["鈴仙・優曇華院・イナバ"],
                spells: `
                                毒煙幕「瓦斯織物の玉」
                 生薬「国士無双の薬」
                 波符「月面波紋（ルナウェーブ）」
                 波符「赤眼催眠（マインドシェイカー）」
                 幻波「赤眼催眠（マインドブローイング）」
                 波符「幻の月（インビジブルハーフムーン）」
                 長視「赤月下（インフレアドムーン）」
                 短視「超短脳波（エックスウェイブ）」
                 惑視「離円花冠（カローラヴィジョン）」
                 幻惑「花冠視線（クラウンヴィジョン）」
                 幻爆「近眼花火（マインドスターマイン）」
                 幻弾「幻想視差（ブラフバラージ）」
                 幻兎「平行交差（パラレルクロス）」
                 狂符「幻視調律（ビジョナリチューニング）」
                 狂視「狂視調律（イリュージョンシーカー）」
                 狂夢「風狂の夢（ドリームワールド）」
                 懶符「生神停止（アイドリングウェーブ）」
                 懶惰「生神停止（マインドストッパー）」
                 弱心「喪心喪意（ディモチヴィエイション）」
                 喪心「喪心創痍（ディスカーダー）」
                 迫符「脅迫幻覚（オブセッショナー）」
                 散符「朧月花栞（ロケット・イン・ミスト）」
                 散符「真実の月（インビジブルフルムーン）」
                 散符「栄華之夢（ルナメガロポリス）」
                 赤眼「望見円月（ルナティックブラスト）」
                 月眼「月兎遠隔催眠術（テレメスメリズム）」
                 「障壁波動（イビルアンジュレーション）」
                 「幻朧月睨（ルナティックレッドアイズ）」
`
            },
            {
                chara: ["八意永琳"],
                spells: `
                                天丸「壺中の天地」
                 薬符「壺中の大銀河」
                 薬符「胡蝶夢丸ナイトメア」
                 練丹「水銀の海」
                 秘薬「仙香玉兎」
                 覚神「神代の記憶」
                 神符「天人の系譜」
                 蘇活「生命遊戯　-ライフゲーム-」
                 蘇生「ライジングゲーム」
                 操神「オモイカネディバイス」
                 神脳「オモイカネブレイン」
                 天呪「アポロ１３」
                 秘術「天文密葬法」
                 「天網蜘網捕蝶の法」
`
            },
            {
                chara: ["蓬莱山輝夜"],
                spells: `
                                難題「龍の頸の玉　-五色の弾丸-」
                 難題「仏の御石の鉢　-砕けぬ意思-」
                 難題「火鼠の皮衣　-焦れぬ心-」
                 難題「燕の子安貝　-永命線-」
                 難題「蓬莱の弾の枝　-虹色の弾幕-」
                 神宝「ブリリアントドラゴンバレッタ」
                 神宝「ブディストダイアモンド」
                 神宝「サラマンダーシールド」
                 神宝「ライフスプリングインフィニティ」
                 神宝「蓬莱の玉の枝　-夢色の郷-」
                 新難題「月のイルメナイト」
                 新難題「エイジャの赤石」
                 新難題「金閣寺の一枚天井」
                 新難題「ミステリウム」
                 「永夜返し　-初月-」
                 「永夜返し　-三日月-」
                 「永夜返し　-上つ弓張-」
                 「永夜返し　-待宵-」
                 「永夜返し　-子の刻-」
                 「永夜返し　-子の二つ-」
                 「永夜返し　-子の三つ-」
                 「永夜返し　-子の四つ-」
                 「永夜返し　-丑の刻-」
                 「永夜返し　-丑の二つ-」
                 「永夜返し　-丑三つ時-」
                 「永夜返し　-丑の四つ-」
                 「永夜返し　-寅の刻-」
                 「永夜返し　-寅の二つ-」
                 「永夜返し　-寅の三つ-」
                 「永夜返し　-寅の四つ-」
                 「永夜返し　-朝靄-」
                 「永夜返し　-夜明け-」
                 「永夜返し　-明けの明星-」
                 「永夜返し　-世明け-」
                 「蓬莱の樹海」
`
            },
            {
                chara: ["藤原妹紅"],
                spells: `
                                惜命「不死身の捨て身」
                 焔符「自滅火焔大旋風」
                 炎符「フェニックスの超高温な羽」
                 呪札「無差別発火の符」
                 時効「月のいはかさの呪い」
                 不死「徐福時空」
                 不死「火の鳥　-鳳翼天翔-」
                 不死「凱風快晴飛翔蹴」
                 不滅「フェニックスの尾」
                 藤原「滅罪寺院傷」
                 滅罪「正直者の死」
                 虚人「ウー」
                 貴人「サンジェルマンの忠告」
                 蓬莱「瑞江浦嶋子と五色の瑞亀」
                 蓬莱「凱風快晴　-フジヤマヴォルケイノ-」
                 「リザレクション」
                 「パゼストバイフェニックス」
                 「蓬莱人形」
                 「フェニックス再誕」
                 「火の鳥 ―不死伝説―」
                 「インペリシャブルシューティング」
`
            },
            {
                chara: ["射命丸文"],
                spells: `
                                取材「射命丸文の圧迫取材」
                 望遠「キャンディッドショット」
                 速写「ファストショット」
                 写真「激撮テングスクープ」
                 風符「風神一扇」
                 風符「天狗報即日限」
                 風符「天狗道の開風」
                 旋符「紅葉扇風」
                 旋符「飄妖扇」
                 旋風「鳥居つむじ風」
                 突符「天狗のマクロバースト」
                 突風「猿田彦の先導」
                 竜巻「天孫降臨の道しるべ」
                 逆風「人間禁制の道」
                 疾風「風神少女」
                 風神「風神木の葉隠れ」
                 風神「天狗颪」
                 風神「二百十日」
                 魔獣「鎌鼬ベーリング」
                 鴉符「暗夜のデイメア」
                 岐符「天の八衢」
                 岐符「サルタクロス」
                 塞符「山神渡御」
                 塞符「天孫降臨」
                 塞符「天上天下の照國」
                 「瞬撮ジャーナリスト」
                 「幻想風靡」
`
            },
            {
                chara: ["メディスン・メランコリー"],
                spells: `
                                毒符「神経の毒」
                 毒符「憂鬱の毒」
                 毒符「ポイズンブレス」
                 霧符「ガシングガーデン」
                 譫妄「イントゥデリリウム」
`
            },
            {
                chara: ["風見幽香"],
                spells: `
                                花符「幻想郷の開花」
                 幻想「花鳥風月、嘯風弄月」
`
            },
            {
                chara: ["小野塚小町"],
                spells: `
                                投銭「宵越しの銭」
                 舟符「河の流れのように」
                 霊符「何処にでもいる浮遊霊」
                 霊符「古き地縛霊の目覚め」
                 恨符「未練がましい緊縛霊」
                 魂符「魂の遊戯」
                 魂符「生魂流離の鎌」
                 死符「死者選別の鎌」
                 死価「プライス・オブ・ライフ」
                 死歌「八重霧の渡し」
                 死神「ヒガンルトゥール」
                 古雨「黄泉中有の旅の雨」
                 地獄「無間の狭間」
                 薄命「余命幾許も無し」
                 換命「不惜身命、可惜身命」
`
            },
            {
                chara: ["四季映姫・ヤマザナドゥ"],
                spells: `
                                罪符「彷徨える大罪」
                 虚言「タン・オブ・ウルフ」
                 審判「ギルティ・オワ・ノットギルティ」
                 審判「十王裁判」
                 審判「浄頗梨審判 -射命丸文-」
                 審判「ラストジャッジメント」
`
            },
            {
                chara: ["秋静葉"],
                spells: `
                                秋符「フォーリンブラスト」
                 葉符「狂いの落葉」
                 枯道「ロストウィンドロウ」
`
            },
            {
                chara: ["秋穣子"],
                spells: `
                                秋符「オータムスカイ」
                 秋符「秋の空と乙女の心」
                 実符「ウォームカラーハーヴェスト」
                 豊符「オヲトシハーベスター」
                 豊作「穀物神の約束」
                 焼芋「スイートポテトルーム」
`
            },
            {
                chara: ["鍵山雛"],
                spells: `
                                厄符「バッドフォーチュン」
                 厄符「厄神様のバイオリズム」
                 厄野「禊川の堆積」
                 疵符「ブロークンアミュレット」
                 疵痕「壊されたお守り」
                 悪霊「ミスフォーチュンズホイール」
                 悲運「大鐘婆の火」
                 創符「ペインフロー」
                 創符「流刑人形」
                 災禍「呪いの雛人形」
`
            },
            {
                chara: ["河城にとり"],
                spells: `
                                光学「オプティカルカモフラージュ」
                 光学「ハイドロカモフラージュ」
                 水符「夏のペットボトルロケット」
                 水符「ウォーターカーペット」
                 水符「河童のポロロッカ」
                 水符「河童のフラッシュフラッド」
                 水符「河童の幻想大瀑布」
                 瀑符「シライトフォール」
                 瀑符「ケゴンガン」
                 河符「ディバイディングエッジ」
                 洪水「ウーズフラッディング」
                 洪水「デリューヴィアルメア」
                 漂溺「光り輝く水底のトラウマ」
                 河童「お化けキューカンバー」
                 河童「のびーるアーム」
                 河童「スピン・ザ・セファリックプレート」
                 河童「乾燥尻子玉」
                 妖怪戦艦「三平ファイター」
                 泡符「撃て！バブルドラゴン」
                 戦機「飛べ！三平ファイト」
                 豪雨「河底大戦争」
                 「スーパースコープ３Ｄ」
`
            },
            {
                chara: ["犬走椛"],
                spells: `
                                牙符「咀嚼玩味」
                 狗符「レイビーズバイト」
                 山窩「エクスペリーズカナン」
`
            },
            {
                chara: ["東風谷早苗"],
                spells: `
                                祈願「商売繁盛守り」
                 御籤「乱れおみくじ連続引き」
                 妖怪退治「妖力スポイラー」
                 蛇符「バインドスネークカモン」
                 蛇符「グリーンスネークカモン」
                 蛇符「雲を泳ぐ大蛇」
                 蛇符「神代大蛇」
                 蛙符「手管の蝦蟇」
                 秘術「グレイソーマタージ」
                 秘術「忘却の祭儀」
                 秘術「一子相伝の弾幕」
                 秘法「九字刺し」
                 神徳「五穀豊穣ライスシャワー」
                 奇跡「白昼の客星」
                 奇跡「客星の明るい夜」
                 奇跡「客星の明るすぎる夜」
                 奇跡「ミラクルフルーツ」
                 奇跡「ファフロッキーズの奇跡」
                 開海「海が割れる日」
                 開海「モーゼの奇跡」
                 準備「神風を喚ぶ星の儀式」
                 準備「サモンタケミナカタ」
                 奇跡「神の風」
                 奇跡「弘安の神風」
                 大奇跡「八坂の神風」
`
            },
            {
                chara: ["八坂神奈子"],
                spells: `
                                蛇符「グラウンドサーペント」
                 神符「水眼の如き美しき源泉」
                 神符「杉で結ぶ古き縁」
                 神符「神が歩かれた御神渡り」
                 儚道「御神渡りクロス」
                 御柱「ライジングオンバシラ」
                 御柱「メテオリックオンバシラ」
                 神祭「エクスパンデッド・オンバシラ」
                 奇祭「目処梃子乱舞」
                 筒粥「神の粥」
                 忘穀「アンリメンバードクロップ」
                 神穀「ディバイニングクロップ」
                 贄符「御射山御狩神事」
                 神秘「葛井の清水」
                 神秘「ヤマトトーラス」
                 天流「お天水の奇跡」
                 天竜「雨の源泉」
                 「マウンテン・オブ・フェイス」
                 「風神様の神徳」
                 「神の御威光」
`
            },
            {
                chara: ["洩矢諏訪子"],
                spells: `
                                 開宴「二拝二拍一拝」
                 合唱「だいだらぼっちの参拝」
                 蛙符「血塗られた赤蛙塚」
                 蛙狩「蛙は口ゆえ蛇に呑まるる」
                 蛙休「オールウェイズ冬眠できます」
                 源符「諏訪清水」
                 源符「厭い川の翡翠」
                 緑石「ジェイドブレイク」
                 姫川「プリンセスジェイドグリーン」
                 神具「洩矢の鉄の輪」
                 鉄輪「ミシカルリング」
                 神桜「湛えの桜吹雪」
                 土着神「手長足長さま」
                 土着神「七つの石と七つの木」
                 土着神「ケロちゃん風雨に負けず」
                 土着神「宝永四年の赤蛙」
                 土着神「洩矢神」
                 土着神「御射軍神さま」
                 祟符「ミシャグジさま」
                 祟り神「赤口（ミシャグチ）さま」
                 「獄熱の間欠泉」
                 「マグマの両生類」
                 「幻想郷空中神戦」
                 「諏訪大戦　～ 土着神話 vs 中央神話」
`
            },
            {
                chara: ["永江衣玖"],
                spells: `
                                羽衣「羽衣は空の如く」
                 羽衣「羽衣は時の如く」
                 電符「雷鼓弾」
                 雷符「ライトニングフィッシュ」
                 雷符「エレキテルの龍宮」
                 雷符「神鳴り様の住処」
                 雲界「玄雲海の雷庭」
                 棘符「雷雲棘魚」
                 魚符「龍魚ドリル」
                 雷魚「雷雲魚遊泳弾」
                 龍魚「龍宮の使い遊泳弾」
                 龍宮「タイヤヒラメダンス」
                 光星「光龍の吐息」
                 光珠「龍の光る眼」
                 珠符「五爪龍の珠」
`
            },
            {
                chara: ["比那名居天子"],
                spells: `
                                剣技「気炎万丈の剣」
                 気符「無念無想の境地」
                 気符「天啓気象の剣」
                 気性「勇気凛々の剣」
                 地符「不譲土壌の剣」
                 天符「天道是非の剣」
                 天気「緋想天促」
                 地震「避難険路」
                 地震「先憂後楽の剣」
                 非想「非想非非想の剣」
                 霊想「大地を鎮める石」
                 要石「カナメファンネル」
                 要石「天空の霊石」
                 要石「天地開闢プレス」
                 乾坤「荒々しくも母なる大地よ」
                 天地「世界を見下ろす遥かなる大地よ」
                 「鹿島鎮護」
                 「全妖怪の緋想天」
                 「全人類の緋想天」
`
            },
            {
                chara: ["キスメ"],
                spells: `
                                怪奇「釣瓶落としの怪」
                 釣瓶「飛んで井の中」
                 釣瓶「ウェルディストラクター」
`
            },
            {
                chara: ["黒谷ヤマメ"],
                spells: `
                                罠符「キャプチャーウェブ」
                 蜘蛛「石窟の蜘蛛の巣」
                 細網「カンダタロープ」
                 毒符「樺黄小町」
                 瘴符「フィルドミアズマ」
                 瘴気「原因不明の熱病」
`
            },
            {
                chara: ["水橋パルスィ"],
                spells: `
                                妬符「グリーンアイドモンスター」
                 嫉妬「緑色の目をした見えない怪物」
                 嫉妬「ジェラシーボンバー」
                 恨符「丑の刻参り」
                 恨符「丑の刻参り七日目」
                 花咲爺「華やかなる仁者への嫉妬」
                 花咲爺「シロの灰」
                 舌切雀「謙虚なる富者への片恨」
                 舌切雀「大きな葛籠と小さな葛籠」
                 怨み念法「積怨返し」
`
            },
            {
                chara: ["星熊勇儀"],
                spells: `
                                鬼符「怪力乱神」
                 鬼符「鬼気狂瀾」
                 鬼声「壊滅の咆哮」
                 光鬼「金剛螺旋」
                 枷符「咎人の外さぬ枷」
                 怪輪「地獄の苦輪」
                 力業「大江山嵐」
                 四天王奥義「三歩必殺」
`
            },
            {
                chara: ["古明地さとり"],
                spells: `
                                脳符「ブレインフィンガープリント」
                 心花「カメラシャイローズ」
                 想起「テリブルスーヴニール」
                 想起「恐怖催眠術」
                 想起「二重黒死蝶」
                 想起「飛行虫ネスト」
                 想起「波と粒の境界」
                 想起「戸隠山投げ」
                 想起「百万鬼夜行」
                 想起「濛々迷霧」
                 想起「風神木の葉隠れ」
                 想起「天狗のマクロバースト」
                 想起「鳥居つむじ風」
                 想起「春の京人形」
                 想起「ストロードールカミカゼ」
                 想起「リターンイナニメトネス」
                 想起「マーキュリポイズン」
                 想起「プリンセスウンディネ」
                 想起「賢者の石」
                 想起「のびーるアーム」
                 想起「河童のポロロッカ」
                 想起「光り輝く水底のトラウマ」
                 想起「うろおぼえの金閣寺」
`
            },
            {
                chara: ["火焔猫燐"],
                spells: `
                                猫符「キャッツウォーク」
                 猫符「怨霊猫乱歩」
                 酔歩「キャットランダムウォーク」
                 呪精「ゾンビフェアリー」
                 呪精「怨霊憑依妖精」
                 恨霊「スプリーンイーター」
                 屍霊「食人怨霊」
                 贖罪「旧地獄の針山」
                 贖罪「昔時の針と痛がる怨霊」
                 死符「ゴーストタウン」
                 妖怪「火焔の車輪」
                 「死灰復燃」
                 「小悪霊復活せし」
                 「死体繁華街」
`
            },
            {
                chara: ["霊烏路空"],
                spells: `
                                制御「セルフトカマク」
                 遮光「核熱バイザー」
                 地熱「核ブレイズゲイザー」
                 光熱「ハイテンションブレード」
                 核熱「ニュークリアフュージョン」
                 核熱「ニュークリアエクスカーション」
                 核熱「核反応制御不能」
                 鴉符「八咫烏ダイブ」
                 核熱「核反応制御不能ダイブ」
                 核熱「人工太陽の黒点」
                 核符「クリーピングサン」
                 熱符「ブレイクプロミネンス」
                 熔解「メルティングホワイト」
                 爆符「プチフレア」
                 爆符「メガフレア」
                 爆符「ギガフレア」
                 爆符「ペタフレア」
                 星符「巨星墜つ」
                 巨星「レッドジャイアント」
                 七星「セプテントリオン」
                 焔星「フィクストスター」
                 焔星「プラネタリーレボリューション」
                 焔星「十凶星」
                 「ホットジュピター落下モデル」
                 「地獄極楽メルトダウン」
                 「ヘルズトカマク」
                 「地獄の人工太陽」
                 「サブタレイニアンサン」
                 「アビスノヴァ」
`
            },
            {
                chara: ["古明地こいし"],
                spells: `
                                茨符「コンファインドイノセント」
                 夢符「ご先祖様が見ているぞ」
                 表象「夢枕にご先祖総立ち」
                 表象「弾幕パラノイア」
                 本能「フロウディアン」
                 本能「イドの解放」
                 抑制「スーパーエゴ」
                 反応「妖怪ポリグラフ」
                 無意識「弾幕のロールシャッハ」
                 心符「没我の愛」
                 復燃「恋の埋火」
                 深層「無意識の遺伝子」
                 記憶「ＤＮＡの瑕」
                 「嫌われ者のフィロソフィ」
                 「サブタレイニアンローズ」
                 「ローズ地獄」
                 「胎児の夢」
                 「ブランブリーローズガーデン」
`
            },
            {
                chara: ["ナズーリン"],
                spells: `
                                 棒符「ビジーロッド」
                 棒符「ナズーリンロッド」
                 捜符「レアメタルディテクター」
                 捜符「ゴールドディテクター」
                 視符「ナズーリンペンデュラム」
                 視符「高感度ナズーリンペンデュラム」
                 守符「ペンデュラムガード」
                 財宝「ゴールドラッシュ」
                 宝塔「グレイテストトレジャー」
`
            },
            {
                chara: ["多々良小傘"],
                spells: `
                                傘符「パラソルスターシンフォニー」
                 傘符「パラソルスターメモリーズ」
                 傘符「大粒の涙雨」
                 傘符「一本足ピッチャー返し」
                 傘符「細雪の過客」
                 大輪「からかさ後光」
                 大輪「ハロウフォゴットンワールド」
                 雨符「雨夜の怪談」
                 雨傘「超撥水かさかさお化け」
                 化符「忘れ傘の夜行列車」
                 化鉄「置き傘特急ナイトカーニバル」
                 驚雨「ゲリラ台風」
                 後光「からかさ驚きフラッシュ」
                 虹符「アンブレラサイクロン」
                 虹符「オーバー・ザ・レインボー」
`
            },
            {
                chara: ["雲居一輪", "雲山"],
                spells: `
                                鉄拳「問答無用の妖怪拳」
                 鉄拳「入道にょき」
                 神拳「雲上地獄突き」
                 神拳「天海地獄突き」
                 拳骨「天空鉄槌落とし」
                 拳符「天網サンドバッグ」
                 拳符「怒りの大雲塊」
                 連打「雲界クラーケン殴り」
                 連打「キングクラーケン殴り」
                 拳打「げんこつスマッシュ」
                 潰滅「天上天下連続フック」
                 大喝「時代親父大目玉」
                 忿怒「天変大目玉焼き」
                 忿怒「空前絶後大目玉焼き」
                 稲妻「帯電入道」
                 嵐符「仏罰の野分雲」
                 積乱「見越し入道雲」
                 入道「夏の幻想太郎」
                 拳固「懺悔の殺風」
                 悪符「八丈のオカルト柱」
                 「華麗なる親父時代」
`
            },
            {
                chara: ["村紗水蜜"],
                spells: `
                                転覆「道連れアンカー」
                 転覆「沈没アンカー」
                 転覆「撃沈アンカー」
                 錨符「幽霊船長期停泊」
                 溺符「ディープヴォーテックス」
                 溺符「シンカブルヴォーテックス」
                 湊符「ファントムシップハーバー」
                 湊符「幽霊船の港」
                 湊符「幽霊船永久停泊」
                 幽霊「シンカーゴースト」
                 幽霊「忍び寄る柄杓」
                 浸水「船底のヴィーナス」
                 「ディープシンカー」
`
            },
            {
                chara: ["寅丸星"],
                spells: `
                                寅符「ハングリータイガー」
                 宝塔「レイディアントトレジャー」
                 宝塔「レイディアントトレジャーガン」
                 宝符「黄金の震眩」
                 光符「アブソリュートジャスティス」
                 光符「正義の威光」
                 光符「浄化の魔」
                 法力「至宝の独鈷杵」
                 法灯「隙間無い法の独鈷杵」
                 天符「焦土曼荼羅」
                 「コンプリートクラリフィケイション」
`
            },
            {
                chara: ["聖白蓮"],
                spells: `
                                杵符「ヴァジュラパーニの呪文」
                 天符「三千大千世界の主」
                 天符「大日如来の輝き」
                 天符「釈迦牟尼の五行山」
                 魔法「紫雲のオーメン」
                 吉兆「紫の雲路」
                 吉兆「極楽の紫の雲路」
                 魔法「魔界蝶の妖香」
                 魔法「マジックバタフライ」
                 光魔「スターメイルシュトロム」
                 光魔「魔法銀河系」
                 大魔法「魔神復誦」
                 習合「垂迹大日如来」
                 超人「聖白蓮」
                 超人「ガルーダの翼」
                 超音速「老婆のスプリント」
                 飛鉢「フライングファンタスティカ」
                 飛鉢「伝説の飛空円盤」
                 「聖尼公のエア巻物」
                 「スターソードの護法」
                 「遊行聖」
                 「ハリの制縛」
                 「ブラフマーの瞳」
                 「アーンギラサヴェーダ」
`
            },
            {
                chara: ["封獣ぬえ"],
                spells: `
                                鵺符「鵺的スネークショー」
                 鵺符「弾幕キメラ」
                 鵺符「アンディファインドダークネス」
                 妖雲「平安のダーククラウド」
                 正体不明「忿怒のレッドUFO襲来」
                 正体不明「哀愁のブルーUFO襲来」
                 正体不明「義心のグリーンUFO襲来」
                 正体不明「恐怖の虹色UFO襲来」
                 正体不明「紫鏡」
                 正体不明「赤マント青マント」
                 正体不明「厠の花子さん」
                 アンノウン「軌道不明の鬼火」
                 アンノウン「姿態不明の空魚」
                 アンノウン「原理不明の妖怪玉」
                 恨弓「源三位頼政の弓」
                 「遊星よりの弾幕Ｘ」
                 「平安京の悪夢」
`
            },
            {
                chara: ["姫海棠はたて"],
                spells: `
                                取材「姫海棠はたての練習取材」
                 連写「ラピッドショット」
                 遠眼「天狗サイコグラフィ」
                 写真「フルパノラマショット」
                 写真「籠もりパパラッチ」
`
            },
            {
                chara: ["サニーミルク"],
                spells: `
                                日符「アグレッシブライト」
                 日符「ダイレクトサンライト」
                 光符「ブルーディフレクション」
                 光符「イエローディフレクション」
                 陽光「サンシャインブラスト」
                 陽光「サンシャインニードル」
                 光精「クロスディフュージョン」
                 光精「ダイアモンドリング」
                 虹光「プリズムフラッシュ」
                 瞬光「フェイタルフラッシュ」
`
            },
            {
                chara: ["ルナチャイルド"],
                spells: `
                                月符「ルナティックレイン」
                 月符「ルナサイクロン」
                 月光「サイレントストーム」
                 月光「サイレントフラワー」
                 月光「サイレントサイクロン」
                 月光「ダークスティルネス」
                 月光「ムーンスティルネス」
                 夜符「ナイトフェアリーズ」
                 障光「ムーンライトウォール」
                 光壁「ウォールブレイク」
`
            },
            {
                chara: ["スターサファイア"],
                spells: `
                                星光「スターストーム」
                 星符「スターライトレイン」
                 星符「レッドスター」
                 星符「シューティングサファイア」
                 星符「トゥインクルサファイア」
                 星粒「スプリンクルピース」
                 星粒「スターピースシャワー」
                 星光「スターレーザー」
                 流星「プチコメット」
                 流星「コメットストリーム」
`
            },
            {
                chara: ["サニーミルク", "ルナチャイルド", "スターサファイア"],
                spells: `
                                協力技「フェアリーオーバードライブ」
                                「スリーフェアリーズ」
`
            },
            {
                chara: ["幽谷響子"],
                spells: `
                                響符「マウンテンエコー」
                 響符「マウンテンエコースクランブル」
                 響符「パワーレゾナンス」
                 山彦「ロングレンジエコー」
                 山彦「アンプリファイエコー」
                 山彦「ヤマビコの本領発揮エコー」
                 大声「チャージドクライ」
                 大声「チャージドヤッホー」
                 叫喚「プライマルスクリーム」
                 劈音「ピアッシングサークル」
                 御経「無限念仏」
`
            },
            {
                chara: ["宮古芳香"],
                spells: `
                                 回復「ヒールバイデザイア」
                 毒爪「ゾンビクロー」
                 毒爪「ポイズンレイズ」
                 毒爪「ポイズンマーダー」
                 毒爪「死なない殺人鬼」
                 欲符「稼欲霊招来」
                 欲霊「スコアデザイアイーター」
`
            },
            {
                chara: ["霍青娥"],
                spells: `
                                邪符「ヤンシャオグイ」
                 邪符「グーフンイエグイ」
                 仙術「ウォールランナー」
                 仙術「壁抜けワームホール」
`
            },
            {
                chara: ["宮古芳香", "霍青娥"],
                spells: `
                                 入魔「ゾウフォルゥモォ」
                 入魔「過剰ゾウフォルゥモォ」
                 降霊「死人タンキー」
                 通霊「トンリン芳香」
                 道符「タオ胎動」
                 道符「ＴＡＯ胎動 ～道～」
`
            },
            {
                chara: ["蘇我屠自古"],
                spells: `
                                雷矢「ガゴウジサイクロン」
                 雷矢「ガゴウジトルネード」
                 怨霊「入鹿の雷」
`
            },
            {
                chara: ["物部布都"],
                spells: `
                                 天符「雨の磐舟」
                 天符「天の磐舟よ天へ昇れ」
                 古舟「エンシェントシップ」
                 皿符「自暴自棄のお菊」
                 投皿「物部の八十平瓮」
                 皿投「かわらけ回転投げ」
                 運気「破局の開門」
                 炎符「廃仏の炎風」
                 炎符「桜井寺炎上」
                 炎符「太乙真火」
                 熱龍「火焔龍脈」
                 風符「三輪の皿嵐」
                 弓符「星龍弓」
                 聖童女「大物忌正餐」
                 聖童女「太陽神の贄」
                 「大火の改新」
`
            },
            {
                chara: ["豊聡耳神子"],
                spells: `
                                怪人「ヘルメティックマント」
                 徳符「聖徳のプレスティージ」
                 名誉「十二階の色彩」
                 名誉「十二階の冠位」
                 仙符「日出ずる処の道士」
                 仙符「日出ずる処の天子」
                 仙符「日出ずる処の道士」
                 道符「掌の上の天道」
                 秘宝「斑鳩寺の天球儀」
                 秘宝「聖徳太子のオーパーツ」
                 光符「救世観音の光後光」
                 光符「グセフラッシュ」
                 光符「無限条のレーザー」
                 眼光「十七条のレーザー」
                 神光「逆らう事なきを宗とせよ」
                 人符「勧善懲悪は古の良き典なり」
                 「詔を承けては必ず慎め」
                 「星降る神霊廟」
                 「生まれたての神霊」
                 「神霊大宇宙」
                 「十七条の憲法爆弾」
                 「我こそが天道なり」
`
            },
            {
                chara: ["蘇我屠自古", "物部布都", "豊聡耳神子"],
                spells: `
                                召喚「豪族乱舞」
`
            },
            {
                chara: ["二ッ岩マミゾウ"],
                spells: `
                                壱番勝負「霊長化弾幕変化」
                 弐番勝負「肉食化弾幕変化」
                 参番勝負「延羽化弾幕変化」
                 四番勝負「両生化弾幕変化」
                 伍番勝負「鳥獣戯画」
                 六番勝負「狸の化け学校」
                 七番勝負「野生の離島」
                 変化「まぬけ巫女の偽調伏」
                 変化「満月の花鳥園」
                 変化「鳥獣戯画」
                 変化「分福熱湯風呂」
                 変化「百鬼妖界の門」
                 変化「二ッ岩家の裁き」
                 未確認「遊抱戯画」
                 狢符「満月のポンポコリン」
                 「マミゾウ化弾幕十変化」
                 「ワイルドカーペット」
                 「神社のお釈迦様」
                 「ベンテンの琵琶法師」
                 「たわむれはおわりじゃ」
                 「八百八狸囃子」
                 「鳴かぬなら泣くまで待とう時鳥」
                 「にんげんって良いな」
`
            },
            {
                chara: ["秦こころ"],
                spells: `
                                憂符「憂き世は憂しの小車」
                 喜符「昂揚の神楽獅子」
                 怒面「怒れる忌狼の面」
                 憑依「喜怒哀楽ポゼッション」
                 憂面「杞人地を憂う」
                 「仮面喪心舞　暗黒能楽」
                 「モンキーポゼッション」
`
            },
            {
                chara: ["わかさぎ姫"],
                spells: `
                                水符「テイルフィンスラップ」
                 水符「ルナティックレッドスラップ」
                 潮符「湖のタイダルウェイブ」
                 魚符「スクールオブフィッシュ」
                 鱗符「スケールウェイブ」
                 鱗符「逆鱗の荒波」
                 鱗符「逆鱗の大荒波」
`
            },
            {
                chara: ["赤蛮奇"],
                spells: `
                                 飛符「フライングヘッド」
                 首符「クローズアイショット」
                 首符「ろくろ首飛来」
                 飛首「エクストリームロングネック」
                 飛首「ツインロクロヘッド」
                 飛頭「マルチプリケイティブヘッド」
                 飛頭「セブンズヘッド」
                 飛頭「ナインズヘッド」
                 飛頭「デュラハンナイト」
                 眼光「ヘルズレイ」
`
            },
            {
                chara: ["今泉影狼"],
                spells: `
                                牙符「月下の犬歯」
                 変身「トライアングルファング」
                 変身「スターファング」
                 咆哮「ストレンジロア」
                 咆哮「満月の遠吠え」
                 満月「フルムーンロア」
                 狼符「スターリングパウンス」
                 天狼「ハイスピードパウンス」
                 狼牙「血に餓えたウルフファング」
`
            },
            {
                chara: ["九十九弁々"],
                spells: `
                                平曲「祇園精舎の鐘の音」
                 怨霊「耳無し芳一」
                 怨霊「平家の大怨霊」
                 楽符「邪悪な五線譜」
                 楽符「凶悪な五線譜」
                 楽符「ダブルスコア」
                 楽譜「スコアウェブ」
                 音符「大熱唱琵琶」
`
            },
            {
                chara: ["九十九八橋"],
                spells: `
                                琴符「諸行無常の琴の音」
                 琴符「天の詔琴」
                 響符「平安の残響」
                 響符「エコーチェンバー」
                 筝曲「下克上送筝曲」
                 筝曲「下克上レクイエム」
                 哀歌「人琴ともに亡ぶ」
`
            },
            {
                chara: ["九十九弁々", "九十九八橋"],
                spells: `
                                弦楽「嵐のアンサンブル」
                                弦楽「浄瑠璃世界」
                                両吟「星降る唄」
`
            },
            {
                chara: ["鬼人正邪"],
                spells: `
                                欺符「逆針撃」
                 逆符「鏡の国の弾幕」
                 逆符「イビルインザミラー」
                 逆符「天地有用」
                 逆符「天下転覆」
                 逆弓「天壌夢弓」
                 逆弓「天壌夢弓の詔勅」
                 逆転「リバースヒエラルキー」
                 逆転「チェンジエアブレイブ」
`
            },
            {
                chara: ["少名針妙丸"],
                spells: `
                                小弾「小人の道」
                 小弾「小人の茨道」
                 小槌「大きくなあれ」
                 小槌「もっと大きくなあれ」
                 小槌「お前が大きくなあれ」
                 妖剣「輝針剣」
                 輝針「鬼ごろし両目突きの針」
                 釣符「可愛い太公望」
                 大漁「空中大回転漁法」
                 「進撃の小人」
                 「ウォールオブイッスン」
                 「ホップオマイサムセブン」
                 「七人の一寸法師」
                 「小人の地獄」
`
            },
            {
                chara: ["堀川雷鼓"],
                spells: `
                                一鼓「暴れ宮太鼓」
                 二鼓「怨霊アヤノツヅミ」
                 三鼓「午前零時のスリーストライク」
                 死鼓「ランドパーカス」
                 五鼓「デンデン太鼓」
                 六鼓「オルタネイトスティッキング」
                 七鼓「高速和太鼓ロケット」
                 八鼓「雷神の怒り」
                 雷符「怒りのデンデン太鼓」
                 太鼓「ファンタジックウーファー」
                 「ブルーレディショー」
                 「プリスティンビート」
`
            },
            {
                chara: ["茨木華扇"],
                spells: `
                                龍符「ドラゴンズグロウル」
                 虎符「両門の彭祖」
                 鷹符「ホークビーコン」
                 包符「義腕プロテウス」
                 雷符「微速の務光」
`
            },
            {
                chara: ["宇佐見菫子"],
                spells: `
                                銃符「３Ｄプリンターガン」
                 念力「サイコキネシスアプリ」
                 念力「サイコプロージョン」
                 念力「テレキネシス　電波塔」
                 念力「テレキネシス　不法投棄」
`
            },
            {
                chara: ["清蘭"],
                spells: `
                                 銃符「ルナティックガン」
                 弾符「イーグルシューティング」
                 弾符「鷹は撃ち抜いた」
                 凶弾「スピードストライク」
`
            },
            {
                chara: ["鈴瑚"],
                spells: `
                                 兎符「ストロベリーダンゴ」
                 兎符「ベリーベリーダンゴ」
                 兎符「ダンゴインフリューエンス」
                 月見「セプテンバーフルムーン」
                 月見酒「ルナティックセプテンバー」
`
            },
            {
                chara: ["ドレミー・スイート"],
                spells: `
                                夢符「緋色の悪夢」
                 夢符「緋色の圧迫悪夢」
                 夢符「藍色の愁夢」
                 夢符「藍色の愁三重夢」
                 夢符「愁永遠の夢」
                 夢符「刈安色の迷夢」
                 夢符「刈安色の錯綜迷夢」
                 夢符「ドリームキャッチャー」
                 夢符「蒼色のドリームキャッチャー」
                 夢符「夢我夢中」
                 月符「紺色の狂夢」
                 胡蝶「バタフライサプランテーション」
                 超特急「ドリームエクスプレス」
                 這夢「クリーピングバレット」
`
            },
            {
                chara: ["稀神サグメ"],
                spells: `
                                玉符「烏合の呪」
                 玉符「烏合の逆呪」
                 玉符「烏合の二重呪」
                 玉符「穢身探知型機雷」
                 玉符「穢身探知型機雷　改」
                 玉符「神々の弾冠」
                 玉符「神々の光り輝く弾冠」
                 「片翼の白鷺」
`
            },
            {
                chara: ["クラウンピース"],
                spells: `
                                獄符「ヘルエクリプス」
                 獄符「地獄の蝕」
                 獄符「フラッシュアンドストライプ」
                 獄符「スターアンドストライプ」
                 獄炎「グレイズインフェルノ」
                 獄炎「かすりの獄意」
                 地獄「ストライプドアビス」
                 「フェイクアポロ」
                 「アポロ捏造説」
`
            },
            {
                chara: ["純狐"],
                spells: `
                                「掌の純光」
                 「殺意の百合」
                 「原始の神霊界」
                 「現代の神霊界」
                 「震え凍える星」
                 「純粋なる狂気」
                 「溢れ出る瑕穢」
                 「地上穢の純化」
                 「袋の鼠を追い詰める為の単純な弾幕」
                 「人を殺める為の純粋な弾幕」
                 純符「ピュアリーバレットヘル」
                 純符「純粋な弾幕地獄」
`
            },
            {
                chara: ["ヘカーティア・ラピスラズリ"],
                spells: `
                                異界「逢魔ガ刻」
                 異界「地獄のノンイデアル弾幕」
                 地球「邪穢在身」
                 地球「地獄に降る雨」
                 月「アポロ反射鏡」
                 月「ルナティックインパクト」
                 「トリニタリアンラプソディ」
`
            },
            {
                chara: ["純狐", "ヘカーティア・ラピスラズリ"],
                spells: `
                                「最初で最後の無名の弾幕」
`
            },
            {
                chara: ["エタニティラルバ"],
                spells: `
                                蝶符「ミニットスケールス」
蝶符「アゲハの鱗粉」
蝶符「フラッタリングサマー」
蝶符「真夏の羽ばたき」
蝶符「バタフライドリーム」
蝶符「纏わり付く鱗粉」
夢蝶「クレージーバタフライ」
蝶符「デッドリーバタフライ」
`
            },
            {
                chara: ["坂田 ネムノ"],
                spells: `
                                雨符「囚われの秋雨」
                                雨符「呪われた柴榑雨」
刃符「山姥の包丁研ぎ」
刃符「山姥の鬼包丁研ぎ」
尽符「マウンテンマーダー」
尽符「ブラッディマウンテンマーダー」
研符「狂い輝く鬼包丁」
殺符「窮僻の山姥」
夢尽「殺人鬼の懐」
包丁「刃こぼれするまで切り刻め」
`
            },
            {
                chara: ["高麗野 あうん"],
                spells: `
                                犬符「野良犬の散歩」
狗符「山狗の散歩」
独楽「コマ犬回し」
独楽「カールアップアンドダイ」
狗符「独り阿吽の呼吸」
独楽「コマ犬大回転」
独楽「阿吽の閃光」
夢犬「１０１匹の野良犬」
`
            },
            {
                chara: ["矢田寺 成美"],
                spells: `
                                魔符「インスタントボーディ」
魔符「即席菩提」
魔符「バレットゴーレム」
魔符「ペットの巨大弾生命体」
地蔵「クリミナルサルヴェイション」
地蔵「業火救済」
魔符「慈愛の地蔵」
地蔵「菩薩ストンプ」
地蔵「活きの良いバレットゴーレム」
夢地蔵「劫火の希望」
「５６億７千万年の単純労働」
`
            },
            {
                chara: ["爾子田 里乃"],
                spells: `
                                茗荷「フォゲットユアネーム」
冥加「ビハインドユー」
茗荷「メスメリズムダンス」
冥加「ビハインドナイトメア」
`
            },
            {
                chara: ["丁礼田 舞"],
                spells: `
                                竹符「バンブースピアダンス」
竹符「バンブークレイジーダンス」
笹符「タナバタスターフェスティバル」
竹符「バンブーラビリンス」
笹符「タナバタスタードリーム」
`
            },
            {
                chara: ["爾子田 里乃", "丁礼田 舞"],
                spells: `
                                舞符「ビハインドフェスティバル」
                                狂舞「テングオドシ」
                                狂舞「狂乱天狗怖し」
                                鼓舞「パワフルチアーズ」
                                狂舞「クレイジーバックダンス」
                                弾舞「二つ目の台風」
`
            },
            {
                chara: ["摩多羅 隠岐奈"],
                spells: `
                                後符「秘神の後光」
                                後符「絶対秘神の後光」
                                裏夏「スコーチ・バイ・ホットサマー」
                                裏夏「異常猛暑の焦土」
                                裏秋「ダイ・オブ・ファミン」
                                裏秋「異常枯死の餓鬼」
                                裏冬「ブラックスノーマン」
                                裏冬「異常降雪の雪だるま」
                                裏春「エイプリルウィザード」
                                裏春「異常落花の魔術使い」
                                「裏・ブリージーチェリーブロッサム」
                                「裏・パーフェクトサマーアイス」
                                「裏・クレイジーフォールウィンド」
                                「裏・エクストリームウィンター」
                                秘儀「リバースインヴォーカー」
                                秘儀「裏切りの後方射撃」
                                秘儀「弾幕の玉繭」
                                秘儀「穢那の火」
                                秘儀「後戸の狂言」
                                秘儀「マターラドゥッカ」
                                秘儀「七星の剣」
                                秘儀「無縁の芸能者」
                                「背面の暗黒猿楽」
                                「アナーキーバレットヘル」
                                秘儀「マターラスッカ」
                                秘儀「背面の邪炎」
                                秘儀「秘神の暗躍弾幕」
                                秘儀「神秘の玉繭」
                                「秘神結界」
                                「背後からの盗撮者調伏」
                                「卑怯者マスタースパーク」
                                扉符「温泉客の安らぐ背中」
                                扉符「太古に失われた背中」
                                扉符「咎人達の血生臭い背中」
                                「秘匿された時空幻想ツアー」
                                「秘められし弾幕界への扉」
`
            },
            {
                chara: ["依神 女苑"],
                spells: `
                                憑依剥奪「スレイブロバー」
                                「クイーンオブバブル」
                                「80'sのエクストーショナー」
                                財禍「プラックピジョン」
                                石油「フレイマブルレイン」
                                油井「疫病神的な天空掘削機」
                                石油「貧乏神的な原油流出汚染」
`
            },
            {
                chara: ["依神 紫苑"],
                spells: `

                                財禍「プラックピジョン」
                                貧符「ミスチャンススキャッター」
                                「最凶最悪の極貧不幸神」
`
            },
            {
                chara: ["依神 女苑", "依神 紫苑"],
                spells: `
                                 貧符「超貧乏玉」
                                 不運「ようこそ極貧の世界へ」
                                憑依交換「アブソリュートルーザー」
`
            },
            {
                chara: ["戎 瓔花"],
                spells: `
                                石符「ストーンウッズ」
                                石符「ストーンコニファー」
                                石符「チルドレンズリンボ」
                                石符「アダルトチルドレンズリンボ」
                                石符「エイジャの積石」
`
            },
            {
                chara: ["牛崎 潤美 "],
                spells: `
                                石符「ストーンベイビー」
                                石符「ヘビーストーンベイビー」
                                溺符「三途の淪溺」
                                鬼符「デーモンシージ」
                                鬼符「ハングリーデーモンシージ」
`
            },
            {
                chara: ["庭渡 久侘歌"],
                spells: `
                                水符「水配りの試練」
                                水符「水配りの上級試煉」
                                水符「水配りの極級試煉」
                                光符「見渡しの試練」
                                光符「見渡しの上級試煉」
                                光符「見渡しの極級試煉」
                                鬼符「鬼渡の試練」
                                鬼符「鬼渡の上級試煉」
                                鬼符「鬼渡の獄級試煉」
                                血戦「血の分水嶺」
                                血戦「獄界視線」
                                血戦「獄界視線」
                                長鳴「目覚めよ、葬られた幽霊達よ」
                                笛符「幽霊達よ、居るべき場所に還れ」
                                庭渡「見渡しのよい旧地獄」
                                庭渡「アルゴリズミックファントム」
                                「命の分水嶺」
`
            },
            {
                chara: ["吉弔 八千慧"],
                spells: `
                                亀符「亀甲地獄」
                                鬼符「搦手の畜生」
                                鬼符「搦手の犬畜生」
                                鬼符「搦手の鬼畜生」
                                龍符「龍紋弾」
                                亀符「吉弔大結界」
`
            },
            {
                chara: ["杖刀偶 磨弓"],
                spells: `
                                埴輪「弓兵埴輪」
                                埴輪「熟練弓兵埴輪」
                                埴輪「剣士埴輪」
                                埴輪「熟練剣士埴輪」
                                埴輪「騎馬兵埴輪」
                                埴輪「騎馬兵埴輪」
                                埴輪「熟練騎馬兵埴輪」
                                埴輪「がらんどうの無尽兵団」
                                埴輪「不敗の無尽兵団」
`
            },
            {
                chara: ["埴安神 袿姫"],
                spells: `
                                方形「方形造形術」
                                方形「スクエアクリーチャー」
                                円形「真円造形術」
                                円形「サークルクリーチャー」
                                線形「線形造形術」
                                線形「リニアクリーチャー」
                                埴輪「偶像人馬造形術」
                                埴輪「アイドルクリーチャー」
                                「鬼形造形術」
                                「ジオメトリッククリーチャー」
                                「イドラディアボルス」
`
            },
            {
                chara: ["驪駒 早鬼"],
                spells: `
                                勁疾技「スリリングショット」
                                勁疾技「ライトニングネイ」
                                勁疾技「デンスクラウド」
                                勁疾技「ビーストエピデミシティ」
                                勁疾技「トライアングルチェイス」
                                勁疾技「ブラックペガサス流星弾」
                                勁疾技「マッスルエクスプロージョン」
                                「フォロミーアンアフライド」
                                「鬼形のホイポロイ」
                                「鬼畜生の所業」
                                天星馬「ペガサスクロス」
                                「爆発は筋力だ！」
                                天星馬「ペガサススターマイン」
                                「ラストシュート」
`
            },
            {
                chara: ["饕餮 尤魔"],
                spells: `
                                採取「世界の在り方を変える黒い水」
                                蒸留「強引で未熟な蒸留装置」
                                剛欲「この世に存在してはならない暴食」
                                採血「ガイアの血液」
                                精錬「呪われた血液の追憶」
                                「剛欲な獣神トウテツの夕餉」
                                「お腹を空かせたグリードモンスター」
                                宿怨「ゴージライザー」
                                「アブソーバーファントム」
                                「底辺の暴食」
`
            },
            {
                chara: ["豪徳寺 ミケ"],
                spells: `
                                招符「弾幕万来」
                                招符「弾災招福」
                                金符「三毛猫に小判」
`
            },
            {
                chara: ["山城 たかね"],
                spells: `
                                森符「木隠れの技術」
                                森符「極・木隠れの技術」
                                森符「真・木隠れの技術」
                                森符「最奥の森域」
                                森符「極・最奥の森域」
                                森符「真・最奥の森域」
                                葉技「グリーンスパイラル」
                                葉技「グリーンサイクロン」
                                葉技「グリーントルネード」
                                弾貨「バレットマネーグラット」
                                葉技「スーパーグリーンスパイラル」
                                「ブラックマーケットの万華鏡」
`
            },
            {
                chara: ["駒草 山如"],
                spells: `
                                山符「動天の雲間草」
                                山怪「驚愕の雲間草」
                                山符「妖光輝く薄雪草」
                                山怪「妖魔犇めく薄雪草」
                                山花「殺戮の駒草」
                                山花「殺戮の山の女王」
`
            },
            {
                chara: ["玉造 魅須丸"],
                spells: `
                                玉符「虹龍陰陽玉」
                                玉符「陰陽神玉」
                                玉将「クイーンオブインヤンスフィア」
                                女王珠「虹の扉の向こうに」
                                「陰陽サフォケイション」
`
            },
            {
                chara: ["飯綱丸 龍"],
                spells: `
                                禍星「星火燎原の舞」
                                禍星「星火燎原乱舞」
                                星風「虹彩陸離の舞」
                                星風「虹彩陸離乱舞」
                                光馬「天馬行空の舞」
                                光馬「天馬行空乱舞」
                                虹光「光風霽月」
                                星符「天真爛漫の星」
                                風符「空々寂々の風」
`
            },
            {
                chara: ["菅牧 典"],
                spells: `
                                狐符「フォックスワインダー」
                                管狐「シリンダーフォックス」
                                星狐「天狐龍星の舞」
                                狐符「遅効性の管狐弾」
                                狐符「管の中の邪悪」
`
            },
            {
                chara: ["天弓 千亦"],
                spells: `
                                「無主への供物」
                                「弾幕狂蒐家の妄執」
                                「バレットマーケット」
                                「密度の高いバレットマーケット」
                                「弾幕自由市場」
                                「虹人環」
                                「バレットドミニオン」
                                「暴虐のバレットドミニオン」
                                「無道のバレットドミニオン」
                                「弾幕のアジール」
                                「正当なバレットマーケット」
                                「闇市場のミシガンロール」
`
            },
            {
                chara: ["姫虫 百々世"],
                spells: `
                                蠱毒「カニバリスティックインセクト」
                                蠱毒「ケイブスウォーマー」
                                蠱毒「スカイペンドラ」
                                採掘「積もり続けるマインダンプ」
                                採掘「マインブラスト」
                                採掘「妖怪達のシールドメゾット」
                                大蜈蚣「スネークイーター」
                                大蜈蚣「ドラゴンイーター」
                                「蠱毒のグルメ」
                                「蟲姫さまの輝かしく落ち着かない毎日」
                                蠱毒「リボルトスウォーマー」
                                「千切れもがき苦しむ蟲の怨み」
`
            },
            {
                chara: ["孫 美天"],
                spells: `
                                猿撃「モンキーマジック」
`
            },
            {
                chara: ["三頭 慧ノ子"],
                spells: `
                                三頭「ケルベロスファイア」
`
            },
            {
                chara: ["天火人 ちやり"],
                spells: `
                                呪血「カースドデビル」
`
            },
            {
                chara: ["豫母都 日狭美"],
                spells: `
                                執行者「脱獄ストーカー」
`
            },
            {
                chara: ["日白 残無"],
                spells: `
                                「純霊弾」
                                「無心純霊弾」
                                「亡羊のキングダム」
`
            },
            {
                chara: ["塵塚 ウバメ"],
                spells: `
                                塵符「コズミックダスト」
                                塵符「宇宙塵」
                                塵符「唐櫃返し」
                                塵符「唐櫃大返し」
                                塵符「塵のすみか」
`
            },
            {
                chara: ["封獣 チミ"],
                spells: `
                                魅符「まつろわぬ沢の気」
                                魅符「荒くれる沢の気」
                                魅符「うなされる森の気」
                                魅符「息苦しい森の気」
                                魑符「荒ぶる山の気」
                                魑符「怒れる山の気」
`
            },
            {
                chara: ["道神 馴子"],
                spells: `
                                謎符「ピラミダルラビリンス」
                                謎符「ヘキサゴナルラビリンス」
                                塞符「ロジカルウォール」
                                塞符「ロジカルグレートウォール」
                                謎符「エンシェントトラップ」
                                金符「弾幕の金字塔」
`
            },
            {
                chara: ["ユイマン・浅間"],
                spells: `
                                謎符「ピラミダルラビリンス」
                                謎符「ヘキサゴナルラビリンス」
                                塞符「ロジカルウォール」
                                塞符「ロジカルグレートウォール」
                                謎符「エンシェントトラップ」
                                金符「弾幕の金字塔」
`
            },
            {
                chara: ["ユイマン・浅間"],
                spells: `
                                虚符「ストリーミングドール」
                                虚符「ストリーミングマリオネット」
                                群符「ラブルデータ」
                                群符「ラブルビッグデータ」
                                「シカを射るだけの美しい記憶」
                                虚構「ディスコミュニケーション」
                                鹿符「ディアジェノサイダー」
                                蛇姫「スネークランダー」
                                「ゾルタクスコミュニケーション」
`
            },
            {
                chara: ["綿月 豊姫"],
                spells: `
                                宝珠「潮盈珠」
                                災禍「山津波」
                                災禍「長い山津波」
                                災禍「終わらない山津波」
                                宝珠「潮乾珠」
                                「ムーンドラゴン」
`
            },
            {
                chara: ["磐永 阿梨夜"],
                spells: `
                                石神「厳となるさざれ石」
                                死符「永遠の冬」
                                死符「恒久の冬」
                                生符「混沌の冬」
                                「弾幕の化石」
                                地符「幻想のリリクウィー」
                                月符「錦の上のイマジナリー」
                                「ストーンゴッデス」
                                「不生不滅の石の女神」
`
            },
            {
                chara: ["渡里 ニナ "],
                spells: `
                                真実「テトラモノアイ」
                                真実「オールドイルミナティ」
                                真実「ケムトレイルクラウド」
                                真実「レプティリアンインテリジェンス」
                                真実「フラットアーサー」
                                真実「アーティフィシャルディザスター」
                                真実「ニューワールドオーダー」
                                真実「タルタリアンラプソディ」
                                「チョコレートリバー」
                                「アンゴルモアの大王」
`
            },
            {
                chara: [""],
                spells: `

`
            }
        ];
        let currentGameCards = [], remainingCards = [], currentCard = null, totalCardsCount = 0, isAnswerShown = false;

        // ★★ここから新しいグローバル変数★★
        let quizTimerId = null; // クイズ用タイマーのID
        let nextQuestionTimerId = null; // 次の質問へ移行するタイマーのID
        let currentRemainingTime = 0; // 現在の残り時間

        // 設定値
        let enableTimer = true;             // 制限時間有効/無効 (デフォルト: 有効)
        let quizTimeLimit = 15;             // クイズの制限時間 (秒) (デフォルト: 15秒)
        let hintDisplayTime = 5;            // ヒント表示の残り時間 (秒) (デフォルト: 5秒)
        let enableHintButton = true;        // ヒントボタン有効/無効 (デフォルト: 有効)
        let enableAutoNextQuestion = false; // 答え表示後自動で次へ移行有効/無効 (デフォルト: 無効)
        let nextQuestionDelay = 3;          // 答え表示後の待機時間 (秒) (デフォルト: 3秒)

        // UI要素
        const timerContainer = document.getElementById('timer-container');
        const timerText = document.getElementById('timer-text');
        const timerPie = document.getElementById('timer-pie');
        const mainBtn = document.getElementById('mainBtn');
        const hintBtn = document.getElementById('hintBtn');

        document.addEventListener('DOMContentLoaded', () => {
            initializeGame(); // ゲーム初期化は変更なし

            // ★★設定UIのイベントリスナーを設定★★
            const enableTimerCheckbox = document.getElementById('enableTimer');
            const quizTimeSlider = document.getElementById('quizTimeSlider');
            const quizTimeValue = document.getElementById('quizTimeValue');
            const hintTimeSlider = document.getElementById('hintTimeSlider');
            const hintTimeValue = document.getElementById('hintTimeValue');
            const enableHintBtnCheckbox = document.getElementById('enableHintBtn');
            const enableNextTimerCheckbox = document.getElementById('enableNextTimer');
            const nextDelaySlider = document.getElementById('nextDelaySlider');
            const nextDelayValue = document.getElementById('nextDelayValue');

            // 初期値をUIに反映
            enableTimerCheckbox.checked = enableTimer;
            quizTimeSlider.value = quizTimeLimit;
            quizTimeValue.textContent = `${quizTimeLimit}秒`;
            hintTimeSlider.value = hintDisplayTime;
            hintTimeValue.textContent = `残り${hintDisplayTime}秒`;
            enableHintBtnCheckbox.checked = enableHintButton;
            enableNextTimerCheckbox.checked = enableAutoNextQuestion;
            nextDelaySlider.value = nextQuestionDelay;
            nextDelayValue.textContent = `${nextQuestionDelay}秒`;

            // イベントリスナー
            enableTimerCheckbox.addEventListener('change', (e) => {
                enableTimer = e.target.checked;
                // 制限時間が無効ならタイマーを停止し、UIもリセット
                if (!enableTimer) {
                    stopTimer();
                    resetTimerDisplay();
                    timerContainer.classList.remove('active'); // タイマーを非表示に
                }
                // タイマーON/OFFでメインボタンのテキストを切り替え
                updateMainButtonText();
            });

            quizTimeSlider.addEventListener('input', (e) => {
                quizTimeLimit = parseInt(e.target.value);
                quizTimeValue.textContent = `${quizTimeLimit}秒`;
                // ヒント表示時間の上限を制限時間-5秒に設定
                hintTimeSlider.max = Math.max(1, quizTimeLimit - 5);
                if (hintDisplayTime >= quizTimeLimit) { // ヒントが制限時間を超えないように調整
                    hintDisplayTime = Math.max(1, quizTimeLimit - 1); // 少なくとも1秒は残す
                    hintTimeSlider.value = hintDisplayTime;
                    hintTimeValue.textContent = `残り${hintDisplayTime}秒`;
                }
            });

            hintTimeSlider.addEventListener('input', (e) => {
                hintDisplayTime = parseInt(e.target.value);
                // ヒント表示時間が制限時間を超えないように調整
                if (hintDisplayTime >= quizTimeLimit) {
                    hintDisplayTime = Math.max(1, quizTimeLimit - 1);
                    hintTimeSlider.value = hintDisplayTime;
                }
                hintTimeValue.textContent = `残り${hintDisplayTime}秒`;
            });

            enableHintBtnCheckbox.addEventListener('change', (e) => {
                enableHintButton = e.target.checked;
                // 必要に応じてヒントボタンの表示を更新（showNextSpellCard内で最終調整）
            });

            enableNextTimerCheckbox.addEventListener('change', (e) => {
                enableAutoNextQuestion = e.target.checked;
            });

            nextDelaySlider.addEventListener('input', (e) => {
                nextQuestionDelay = parseInt(e.target.value);
                nextDelayValue.textContent = `${nextQuestionDelay}秒`;
            });
        });

        // ★★initializeGame関数をタイマー対応に修正★★
        function initializeGame() {
            stopTimer(); // ゲーム開始時は念のためタイマー停止
            resetTimerDisplay(); // タイマー表示もリセット
            timerContainer.classList.remove('active'); // タイマーを非表示に

            currentGameCards = [];
            CHARACTER_DATA.forEach(character => {
                const charaNameList = character.chara;
                const spellList = character.spells.split('\n').filter(s => s.trim() !== '');
                if (spellList.length === 0) return;
                const randomIndex = Math.floor(Math.random() * spellList.length);
                const selectedSpell = spellList[randomIndex];
                currentGameCards.push({ spell: selectedSpell, chara: charaNameList });
            });
            remainingCards = [...currentGameCards];
            totalCardsCount = currentGameCards.length;
            isAnswerShown = true; currentCard = null;

            updateCounter();
            document.getElementById('display').innerHTML = "東方キャラのスペルカードクイズ（錦上京まで）";
            mainBtn.innerText = "スタート"; // mainBtnはグローバル変数にした
            mainBtn.disabled = false;

            // ヒントボタンを非表示にする
            hintBtn.style.display = 'none'; // hintBtnもグローバル変数にした
        }

        // ★★メインボタンのテキストを更新する関数★★
        function updateMainButtonText() {
            if (isAnswerShown) {
                mainBtn.innerText = "答えを表示";
            } else {
                mainBtn.innerText = enableTimer ? "次の問題へ" : "答えを見る";
            }
        }


        function handleNextStep() {
            // 次へ移行タイマーが動いている場合は、手動での操作を無効にする
            if (nextQuestionTimerId) return;

            if (isAnswerShown) {
                showNextSpellCard();
            } else {
                // タイマーが有効な場合は、手動で「スキップ」しても答え表示
                stopTimer(); // 答えを見る前にタイマー停止
                showAnswer();
            }
        }

        // ★★showNextSpellCard関数をタイマー対応に修正★★
        function showNextSpellCard() {
            stopTimer(); // 次のカードを出す前に既存タイマーを停止
            clearTimeout(nextQuestionTimerId); // 次へ移行タイマーも停止
            nextQuestionTimerId = null;

            if (remainingCards.length === 0) {
                document.getElementById('display').innerHTML = "全ての問題が終了しました！";
                mainBtn.disabled = true;
                hintBtn.style.display = 'none';
                updateCounter();
                timerContainer.classList.remove('active'); // タイマーを非表示に
                return;
            }

            const randomIndex = Math.floor(Math.random() * remainingCards.length);
            currentCard = remainingCards.splice(randomIndex, 1)[0];
            document.getElementById('display').innerHTML = `<span>${currentCard.spell}</span>`;
            updateMainButtonText(); // ボタンテキストを更新
            isAnswerShown = false;
            updateCounter();

            // ヒントボタンの表示制御
            const characterData = CHARACTER_DATA.find(data => data.chara.join() === currentCard.chara.join());
            const allSpells = characterData.spells.split('\n').filter(s => s.trim() !== '');

            // ヒントボタンが有効な設定かつ、そのキャラのスペカが2枚以上ある場合のみヒントボタンを表示
            if (enableHintButton && allSpells.length > 1) {
                hintBtn.style.display = 'inline-block';
                hintBtn.disabled = false;
            } else {
                hintBtn.style.display = 'none';
            }

            // 制限時間が有効ならタイマーを開始
            if (enableTimer) {
                startQuizTimer();
                timerContainer.classList.add('active'); // タイマーを表示
            } else {
                timerContainer.classList.remove('active'); // タイマーを非表示に
            }
        }

        // ★★showAnswer関数に次へ移行タイマー機能を追加★★
        function showAnswer() {
            if (!currentCard) return;

            stopTimer(); // 答えを表示したらクイズタイマーを停止

            const charaText = currentCard.chara.join(' / ');
            document.getElementById('display').innerHTML = `<span>${currentCard.spell}</span><div class="character-name">${charaText}</div>`;
            updateMainButtonText(); // ボタンテキストを更新
            isAnswerShown = true;

            hintBtn.style.display = 'none'; // ヒントボタンを非表示にする

            // 自動で次へ移行が有効な場合、次の問題へ移行するタイマーを開始
            if (enableAutoNextQuestion) {
                mainBtn.disabled = true; // 次へ移行中は手動ボタンを無効に
                nextQuestionTimerId = setTimeout(() => {
                    showNextSpellCard();
                    mainBtn.disabled = false; // 有効に戻す
                }, nextQuestionDelay * 1000); // ミリ秒指定なので1000倍
            } else {
                mainBtn.disabled = false; // 無効ならボタンは常に有効
            }
        }

        function showAnotherSpell() {
            if (!currentCard) return;

            // ヒントボタンが押されたらタイマーを停止しない（制限時間内でのアクション）

            const characterData = CHARACTER_DATA.find(data => data.chara.join() === currentCard.chara.join());
            const allSpells = characterData.spells.split('\n').filter(s => s.trim() !== '');

            const otherSpells = allSpells.filter(s => s !== currentCard.spell);

            if (otherSpells.length > 0) {
                const hintSpell = otherSpells[Math.floor(Math.random() * otherSpells.length)];

                const displayEl = document.getElementById('display');
                const hintEl = document.createElement('div');
                hintEl.className = 'hint-spell';
                hintEl.innerText = `(別のスペルカード: ${hintSpell})`;
                displayEl.appendChild(hintEl);

                hintBtn.disabled = true; // ヒントボタンは一度使ったら無効にする
            }
        }

        // ★★ここからタイマー制御関数★★

        function startQuizTimer() {
            stopTimer(); // 既存のタイマーがあれば停止

            currentRemainingTime = quizTimeLimit; // 設定された制限時間で初期化
            updateTimerDisplay(); // 初回表示

            quizTimerId = setInterval(() => {
                currentRemainingTime--;
                updateTimerDisplay();

                // 残り時間でヒント表示
                if (enableHintButton && currentRemainingTime === hintDisplayTime && !hintBtn.disabled && hintBtn.style.display !== 'none') {
                    // ヒントボタンが表示されていて、まだ押されていない場合のみ自動でヒント表示
                    showAnotherSpell();
                }

                // タイムアップ
                if (currentRemainingTime <= 0) {
                    stopTimer();
                    showAnswer(); // 自動で答えを表示
                }
            }, 1000); // 1秒ごとに実行
        }

        function stopTimer() {
            if (quizTimerId) {
                clearInterval(quizTimerId);
                quizTimerId = null;
            }
        }

        function updateTimerDisplay() {
            timerText.textContent = currentRemainingTime; // 数字を更新

            // 円形プログレスバーの更新
            const percentage = (currentRemainingTime / quizTimeLimit) * 100;
            const angle = (percentage / 100) * 360; // 角度を計算 (0度から360度)

            // CSSカスタムプロパティで角度を設定
            timerPie.style.setProperty('--angle', `${angle}deg`);

            // 円形プログレスバーの見た目を調整 (半分より少ない場合)
            if (percentage <= 50) {
                timerPie.style.backgroundColor = '#e74c3c'; // 赤色
                timerPie.style.transform = `rotate(${angle}deg)`;
                timerPie.style.clipPath = 'polygon(0% 0%, 50% 0%, 50% 100%, 0% 100%)'; // 左半分だけ表示
            } else {
                timerPie.style.backgroundColor = '#2ecc71'; // 緑色
                timerPie.style.transform = `rotate(${angle - 180}deg)`; // 180度引いて回転
                timerPie.style.clipPath = 'polygon(50% 0%, 100% 0%, 100% 100%, 50% 100%)'; // 右半分だけ表示
            }

            // CSS変数を使った実装は複雑なため、一時的に簡略化します
            // プログレスバーの表示は次のステップで正確に調整しましょう
            // 現時点では、残り時間が半分以下で色が変わる程度の表現になります
            if (currentRemainingTime <= quizTimeLimit / 2 && currentRemainingTime > 0) {
                timerText.style.color = '#e74c3c'; // 半分を切ったら赤色に
            } else {
                timerText.style.color = '#ecf0f1'; // 通常は白色
            }
            if (currentRemainingTime <= 0) {
                timerText.style.color = '#e74c3c'; // 0秒も赤
            }
        }

        function resetTimerDisplay() {
            timerText.textContent = ''; // テキストをクリア
            timerText.style.color = '#ecf0f1'; // 色をリセット
            timerPie.style.setProperty('--angle', '0deg'); // 角度をリセット
            timerPie.style.backgroundColor = '#e74c3c'; // 色をリセット
            timerPie.style.clipPath = 'none'; // clipPathもリセット
        }


        function updateCounter() {
            document.getElementById('totalCount').innerText = totalCardsCount;
            document.getElementById('remainingCount').innerText = remainingCards.length;
        }
        function resetGame() {
            stopTimer(); // タイマーも停止
            clearTimeout(nextQuestionTimerId); // 次へ移行タイマーも停止
            nextQuestionTimerId = null;
            initializeGame();
            alert('ゲームをリセットし、スペルカードを再抽選しました。');
        }
    </script>
</body>

</html>



